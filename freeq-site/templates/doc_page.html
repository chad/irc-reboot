{% extends "base.html" %}
{% set nav_active = 'docs' %}
{% block title %}{{ doc.title }}{% endblock %}

{% block head %}
<style>
.doc-layout { display: flex; gap: 32px; }
.doc-content { flex: 1; min-width: 0; }
.doc-content h1 { font-size: 24px; }
.doc-content h2 { font-size: 18px; }
.doc-content h3 { font-size: 15px; }
.doc-content img { max-width: 100%; }
.doc-toc {
  width: 220px; flex-shrink: 0; font-size: 12px;
  position: sticky; top: 64px; align-self: flex-start;
  max-height: calc(100vh - 80px); overflow-y: auto;
}
.doc-toc .heading { color: var(--fg3); text-transform: uppercase; letter-spacing: .5px; font-size: 10px; margin-bottom: 8px; }
.doc-toc ul { list-style: none; margin: 0; padding: 0; }
.doc-toc li { margin: 4px 0; }
.doc-toc a { color: var(--fg3); }
.doc-toc a:hover { color: var(--fg2); }
.doc-toc ul ul { padding-left: 12px; }
.doc-back { font-size: 12px; color: var(--fg3); margin-bottom: 16px; display: inline-block; }

/* Pygments / codehilite */
.highlight { background: var(--bg3); border: 1px solid var(--surface); border-radius: 6px; padding: 16px; overflow-x: auto; margin: 16px 0; }
.highlight pre { background: none; border: none; padding: 0; margin: 0; }

/* Permalink anchors */
.headerlink { color: var(--fg3); font-size: 14px; margin-left: 4px; opacity: 0; transition: opacity .15s; }
h2:hover .headerlink, h3:hover .headerlink { opacity: 1; }

@media (max-width: 800px) {
  .doc-toc { display: none; }
}
</style>
{% endblock %}

{% block body %}
<div class="container-wide">
  <a href="/docs/" class="doc-back">‚Üê All docs</a>
  <div class="doc-layout">
    <div class="doc-content">
      {{ doc.html | safe }}
    </div>
    {% if doc.toc %}
    <div class="doc-toc">
      <div class="heading">On this page</div>
      {{ doc.toc | safe }}
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
